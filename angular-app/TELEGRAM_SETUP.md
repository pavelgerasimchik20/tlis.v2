# Настройка Telegram бота для отправки заказов

## Шаг 1: Создание бота

1. Откройте Telegram и найдите бота **@BotFather**
2. Отправьте команду `/newbot`
3. Следуйте инструкциям:
   - Введите имя бота (например: "TLIS Order Bot")
   - Введите username бота (должен заканчиваться на `bot`, например: `tlis_order_bot`)
4. BotFather выдаст вам **токен бота** (выглядит как: `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`)
5. Сохраните этот токен

## Шаг 2: Получение Chat ID получателя заказов

⚠️ **ВАЖНО**: Chat ID должен принадлежать человеку, который будет получать заказы!

### Как получить Chat ID получателя заказов:

1. **Человек, который должен получать заказы, должен:**
   - Открыть Telegram
   - Найти вашего бота (по username)
   - Отправить боту любое сообщение (например, "Привет" или "/start")

2. **После этого получите Chat ID:**
   - Откройте в браузере: `https://api.telegram.org/bot<ВАШ_ТОКЕН>/getUpdates`
   - Например: `https://api.telegram.org/bot8258683759:AAHqj-B0jbISgCWAMQ1t_xpwqlAh8Nw5MoI/getUpdates`
   - В ответе найдите объект с сообщением от нужного человека
   - Найдите `"chat":{"id":XXXXX}` - это Chat ID получателя
   - Скопируйте это число

3. **Обновите Chat ID в коде:**
   - Откройте `angular-app/src/assets/tlis-home-scripts.js`
   - Найдите `const TELEGRAM_CHAT_ID = '362230045';`
   - Замените на Chat ID получателя заказов

## Шаг 2 (альтернативный): Получение Chat ID

⚠️ **ВАЖНО**: Бот должен получить хотя бы одно сообщение от вас, прежде чем вы сможете отправлять ему сообщения!

### Вариант 1: Через бота @userinfobot (РЕКОМЕНДУЕТСЯ)
1. Найдите бота **@userinfobot** в Telegram
2. Начните с ним диалог
3. Бот покажет ваш Chat ID (число, например: `123456789`)
4. **Обязательно**: Отправьте хотя бы одно сообщение вашему боту перед использованием

### Вариант 2: Через API (САМЫЙ НАДЕЖНЫЙ СПОСОБ)
1. **Сначала отправьте любое сообщение вашему боту** (это критически важно!)
2. Откройте в браузере: `https://api.telegram.org/bot<ВАШ_ТОКЕН>/getUpdates`
   Например: `https://api.telegram.org/bot8258683759:AAHqj-B0jbISgCWAMQ1t_xpwqlAh8Nw5MoI/getUpdates`
3. Найдите в JSON ответе объект с `"message"` и внутри него `"chat":{"id":123456789}`
4. Скопируйте это число - это ваш Chat ID
5. Если ответ пустой `{"ok":true,"result":[]}`, значит бот еще не получил сообщений - отправьте ему сообщение и повторите

### Вариант 3: Для отправки на телефон (личный чат)
Если вы хотите получать сообщения на телефон (номер +375296582576), вам нужно:
1. **Отправить сообщение боту с этого телефона**
2. Получить Chat ID через getUpdates (см. Вариант 2)
3. Использовать этот Chat ID (положительное число для личного чата)
4. ⚠️ **Важно**: В личном чате сообщения видит только тот, кто отправил сообщение боту!

### Вариант 4: Для группы (РЕКОМЕНДУЕТСЯ для команды)
Если нужно, чтобы несколько человек видели заказы:
1. Создайте группу в Telegram (например, "Заказы TLIS")
2. Добавьте бота в группу
3. **Важно**: Сделайте бота администратором группы (опционально, но рекомендуется)
4. Отправьте любое сообщение в группу (можно просто написать "test")
5. Откройте в браузере: `https://api.telegram.org/bot<ВАШ_ТОКЕН>/getUpdates`
6. Найдите в ответе объект с `"chat":{"id":-1001234567890,"type":"group"}` или `"type":"supergroup"`
7. Скопируйте это число (оно будет отрицательным, например: `-1001234567890`)
8. Используйте этот Chat ID в коде
9. Теперь все участники группы будут видеть заказы!

### Вариант 5: Для канала
1. Создайте канал в Telegram
2. Добавьте бота в канал как администратора
3. Отправьте сообщение в канал
4. Получите Chat ID через getUpdates (отрицательное число, начинается с `-100`)

## Шаг 3: Настройка в коде

1. Откройте файл `angular-app/src/assets/tlis-home-scripts.js`
2. Найдите строки:
   ```javascript
   const TELEGRAM_BOT_TOKEN = 'YOUR_BOT_TOKEN_HERE';
   const TELEGRAM_CHAT_ID = 'YOUR_CHAT_ID_HERE';
   ```
3. Замените значения:
   - `YOUR_BOT_TOKEN_HERE` на токен от BotFather
   - `YOUR_CHAT_ID_HERE` на ваш Chat ID

## Пример:
```javascript
const TELEGRAM_BOT_TOKEN = '123456789:ABCdefGHIjklMNOpqrsTUVwxyz';
const TELEGRAM_CHAT_ID = '123456789'; // или '-1001234567890' для группы
```

## Безопасность (важно!)

⚠️ **ВНИМАНИЕ**: Текущая реализация хранит токен в клиентском коде, что небезопасно для production!

Для production рекомендуется:
1. Создать backend API endpoint
2. Хранить токен на сервере
3. Отправлять данные формы на ваш API
4. API отправляет сообщение в Telegram

## Тестирование

После настройки:
1. Заполните форму заказа на сайте
2. Отправьте форму
3. Проверьте, пришло ли сообщение в Telegram

## Формат сообщения

Сообщение будет содержать:
- Контактную информацию (имя, телефон, email)
- Детали заказа (размер, цвет, количество)
- Адрес доставки
- Комментарий
- Время заказа

